# 目标
- 直接连接 `ps-bmp` 数据库，使用账号 `root`、密码 `$D8BZ8Qmav`，读取真实表结构；据此输出“部门导入/人员导入”的字段映射与实现方案。此阶段仅读取与方案，不做编码。

## 执行步骤
- 环境准备（PowerShell）：
  - 检查客户端：`mysql --version`
  - 设置临时密码环境变量（避免 `$` 干扰）：`$env:MYSQL_PWD='$D8BZ8Qmav'`
- 基础清单：
  - `mysql -h alilaoba.cn -P 13307 -u root -e "SHOW TABLES IN ps-bmp;"`
- 关键表结构：
  - `mysql -h alilaoba.cn -P 13307 -u root -e "SHOW CREATE TABLE ps-bmp.tp_dept_basicinfo;"`
  - `mysql -h alilaoba.cn -P 13307 -u root -e "SHOW CREATE TABLE ps-bmp.tp_person_basicinfo;"`
  - `mysql -h alilaoba.cn -P 13307 -u root -e "SHOW CREATE TABLE ps-bmp.tp_person_dept;"`
  - `mysql -h alilaoba.cn -P 13307 -u root -e "SHOW CREATE TABLE ps-bmp.tp_person_exinfo;"`
  - `mysql -h alilaoba.cn -P 13307 -u root -e "SHOW CREATE TABLE ps-bmp.tp_account;"`
- 如需列级细节与索引（可选）：
  - 列：`mysql -h alilaoba.cn -P 13307 -u root -e "SELECT table_name,column_name,data_type,is_nullable,column_default FROM information_schema.columns WHERE table_schema='ps-bmp' AND table_name IN ('tp_dept_basicinfo','tp_person_basicinfo','tp_person_dept','tp_person_exinfo','tp_account') ORDER BY table_name,ordinal_position;"`
  - 索引：`mysql -h alilaoba.cn -P 13307 -u root -e "SELECT table_name,index_name,column_name,non_unique FROM information_schema.statistics WHERE table_schema='ps-bmp' AND table_name IN ('tp_dept_basicinfo','tp_person_basicinfo','tp_person_dept','tp_person_exinfo','tp_account') ORDER BY table_name,index_name,seq_in_index;"`
- 异常处理：若出现 1045（显示主机 `Hiwifi.lan`）属于数据库侧授权问题；我将记录错误并继续输出方案建议与授权 SQL，待你确认。

## 输出内容
- 五张关键表的 CREATE 语句摘要及字段列表
- 部门导入字段映射与规则（路径解析、编号生成、显示顺序缺省、协办人承载）
- 人员导入字段映射与规则（基本信息、部门关联、账号落库、扩展字段承载）
- 校验与失败行导出方案

## 分阶段任务
- 读取 ps-bmp 关键表结构
- 形成部门导入映射与规则
- 形成人员导入映射与规则
- 失败行导出与接口草案（仅方案）